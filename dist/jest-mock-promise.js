/*! For license information please see jest-mock-promise.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["jest-mock-promise"]=t():e["jest-mock-promise"]=t()}(self,(function(){return(()=>{"use strict";var e={803:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseState=void 0,function(e){e[e.pending=0]="pending",e[e.resolved=1]="resolved",e[e.rejected=2]="rejected"}(r||(r={})),t.PromiseState=r}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0});var t=r(803),o=function(){function e(e){this.queue=[],this.state=t.PromiseState.pending,e&&e(this.resolve.bind(this),this.reject.bind(this))}return e.processLevel=function(r){if(0!==r.length){var n=[];r.forEach((function(e){var r=e.instance,o=e.value,s=e.err,i=e.newState,c=r.queue;r.state=i,r.value=o,r.err=s,c.forEach((function(e,r){var c=e.nextPromise,a=e.onFulfilled,u=e.onRejected,f=e.onFinally,l={instance:c,value:o,err:s,newState:i};switch(i){case t.PromiseState.resolved:if(a)try{l.value=a(o)}catch(e){l={instance:c,err:e,newState:t.PromiseState.rejected}}break;case t.PromiseState.rejected:if(u)try{u(s),l.newState=t.PromiseState.resolved}catch(e){l.err=e}else setTimeout((function(){console.error("Uncaught (in promise) Error: ".concat(s))}))}if(f)try{f()}catch(e){l={instance:c,err:e,newState:t.PromiseState.rejected}}n.push(l)}))})),e.processLevel(n)}},e.prototype.then=function(r,n){var o;switch("function"!=typeof r&&(r=function(e){return e}),this.state){case t.PromiseState.rejected:n&&n(this.err),(o=new e).reject(this.err);break;case t.PromiseState.resolved:(o=new e).resolve(r(this.value));break;default:o=new e}return this.queue.push({onFulfilled:r,onRejected:n,nextPromise:o}),o},e.prototype.catch=function(r){var n;return this.state===t.PromiseState.rejected?(r(this.err),(n=new e).resolve()):n=new e,this.queue.push({onRejected:r,nextPromise:n}),n},e.prototype.finally=function(r){var n;return this.state!==t.PromiseState.pending?(r(),(n=new e).resolve(this.value)):n=new e,this.queue.push({onFinally:r,nextPromise:n}),n},e.prototype.resolve=function(r){e.processLevel([{instance:this,value:r,newState:t.PromiseState.resolved}])},e.prototype.reject=function(r){e.processLevel([{instance:this,err:r,newState:t.PromiseState.rejected}])},e.resolve=function(t){return new e((function(e,r){setTimeout((function(){return e(t)}),100)}))},e.reject=function(t){return new e((function(e,r){setTimeout((function(){return r(t)}),0)}))},e}();e.default=o})(),n})()}));
//# sourceMappingURL=jest-mock-promise.js.map